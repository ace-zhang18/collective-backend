<?xml version = "1.0" encoding = "UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace = "TournamentAlpha">

   <insert id = "insert" parameterType = "TournamentAlpha">
      	INSERT INTO tournaments_alpha (NAME, ORGANIZATION, DATE, GAME, STYLE, LOCATION) VALUES (#{name}, #{organization}, #{date}, #{game}, #{style}, #{location});
			
      	<selectKey keyProperty = "tournament_id" resultType = "int" order = "AFTER">
        	select last_insert_id() as tournament_id
		</selectKey>   
	</insert> 
    	
	<select id="getAll" resultType="TournamentAlpha">
    	SELECT * FROM tournaments_alpha
	</select>
	
	<select id="get" parameterType = "int" resultType="TournamentAlpha">
    	SELECT * FROM tournaments_alpha WHERE TOURNAMENT_ID = #{tournament_id}
	</select>
    	
	<resultMap id = "result" type = "TournamentAlpha">
   		<result property = "tournament_id" column = "TOURNAMENT_ID"/>
   		<result property = "name" column = "NAME"/>
   		<result property = "organization" column = "ORGANIZATION"/>
   		<result property = "date" column = "DATE"/>
   		<result property = "game" column = "GAME"/>
   		<result property = "style" column = "STYLE"/>
   		<result property = "location" column = "LOCATION"/>
	</resultMap>

	
</mapper>