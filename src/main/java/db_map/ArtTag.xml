<?xml version = "1.0" encoding = "UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace = "ArtTag">

   <insert id = "insert" parameterType = "ArtTag">
      	INSERT INTO art_tags (tag_id, parent, name) 
      	VALUES (#{tag_id}, #{parent}, #{name});
	</insert> 
	
	<update id = "update" parameterType = "ArtTag">
    	UPDATE art_tags SET parent = #{parent}, name = #{name}
    	WHERE tag_id = #{tag_id};
	</update>
    
    <delete id = "delete" parameterType = "long">
    	DELETE FROM art_tags WHERE artTag_id = #{artTag_id}
    </delete>
    
    <select id="get" parameterType = "long" resultMap="artTagMap">
    	SELECT * FROM art_tags where artTag_ID = #{artTag_id};
	</select>
    
	<select id="getAll" resultMap="artTagMap">
    	SELECT * FROM art_tags ORDER BY tag_id ASC
	</select>

    <select id="getByName" parameterType = "String" resultMap="artTagMap">
    	SELECT * FROM art_tags where name = #{name};
	</select>
    
	<resultMap id = "artTagMap" type = "ArtTag">
		<result property = "tag_id" column = "TAG_ID"/>
		<result property = "name" column = "NAME"/>
		<result property = "parent" column = "PARENT"/>
	</resultMap>

	
</mapper>